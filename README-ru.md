
**NEF-JPG Pair Manager**  — это bash-скрипт для автоматизации работы с фотографиями с камер Nikon.

После съемки на компе проще просматривать `.jpg` файлы и удалять ненужные/брак. В результате в директории остаются  "потерянные" `.nef` файлы, которые тоже не нужны.

#### **Основные функции**:

1.  **Управление парными файлами**
    
    -   Автоматически находит  `.nef`-файлы (RAW), у которых отсутствуют парные  `.jpg`-файлы
        
    -   Переносит непарные  `.nef`  в отдельную директорию  `unpaired/`
        
2.  **Статистика и логирование**
    
    -   Подсчитывает и выводит:
        
        -   Общее количество  `.nef`  и  `.jpg`  файлов в директории
            
        -   Количество парных (имеющих оба расширения) и непарных файлов
            
    -   Ведет лог перемещений с timestamp в файле  `unpaired.log`
        
    -   Сохраняет статистику до/после обработки в  `file_stats.log`
        
3.  **Параметры (ключи)**
    
    -   Поддержка рекурсивного поиска (`-r`)
        
    -   Режим тестового запуска (`--dry-run`)
        
    -   Возможность указать кастомный лог-файл (`-l filename`)
        
4.  **Обработка ошибок**
    
    -   Проверка прав на запись в директорию `unpaired/`
        
    -   Корректная работа с пробелами и спецсимволами в именах файлов
        

#### **Использование**:


    ./script.sh [-r|--recursive] [-d|--dry-run] [-l|--log filename]
`./unpaired.sh -r|--recursive` - выполняется в поддиректориях

`./unpaired.sh -d|--dry-run` - тестовый запуск, никакие операции с файлами не выполняются, но можно посмотреть, что будет

`./unpaired.sh -l|--log filename` - запись лога в указанный файл
    

**Сделано для:**:

-   Фотографов, работающих с Nikon
    
-   Организации RAW+JPEG библиотек
    
-   Анализа "потерянных" RAW-файлов
    

Технические требования: Bash 4+, стандартные GNU-утилиты (`find`, `mv`).
