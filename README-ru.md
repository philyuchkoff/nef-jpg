
**NEF-JPG Pair Manager**  — bash-скрипт для организации RAW-файлов путем перемещения/копирования непарных RAW файлов в отдельную директорию. Идеально подходит для фотографов, которые хотят привести свои коллекции фотографий в порядок.

После съемки на компе проще просматривать `.jpg` файлы и удалять ненужные/брак. В результате в директории остаются  "потерянные" `.nef` файлы, которые тоже не нужны.

### **Возможности**
- Поддержка множества форматов: работает с RAW форматами NEF, CR2, ARW, DNG и их JPG/JPEG парами
- Операции: перемещение или копирование файлов, режим симуляции, опции бэкапа
- Фильтрация: по размеру файла, рекурсивный поиск в директориях
- Два режима: поиск непарных RAW файлов ИЛИ поиск и обработка парных файлов
- Логирование: детальные логи и статистика с режимами подробного/тихого вывода
- Безопасность: опции бэкапа, запросы подтверждения и строгая обработка ошибок

### **Установка**
```
git clone https://github.com/philyuchkoff/nef-jpg.git
cd nef-jpg
chmod +x unpaired.sh
```  

### Использование:
#### Базовые примеры
```
# Найти и переместить неспаренные RAW файлы (не рекурсивно)
./unpaired.sh

# Режим симуляции чтобы посмотреть что будет перемещено
./unpaired.sh -dr

# Рекурсивный поиск с подробным выводом
./unpaired.sh -rv

# Копировать вместо перемещения, с бэкапом
./unpaired.sh -cb
```

#### Продвинутые примеры
```
# Обработать только большие файлы (от 1MB до 50MB)
./unpaired.sh --min-size 1M --max-size 50M

# Найти и показать спаренные файлы без перемещения
./unpaired.sh --find-pairs -v

# Переместить спаренные файлы в отдельную директорию
./unpaired.sh --move-pairs

# Пользовательский лог-файл с тихим режимом
./unpaired.sh -q -l my_photos.log
```

### Параметры командной строки

`-r, --recursive`	Рекурсивный поиск в поддиректориях

`-d, --dry-run`	Симуляция без перемещения файлов

`-c, --copy`	Копировать файлы вместо перемещения

`-b, --backup`	Создать бэкап перед перемещением

`--find-pairs`	Найти и показать спаренные файлы

`--move-pairs`	Переместить спаренные файлы в 'paired/'

`--min-size SIZE`	Минимальный размер файла (например, 1M, 100K)

`--max-size SIZE`	Максимальный размер файла (например, 50M, 1G)

`-v, --verbose`	Подробный вывод

`-q, --quiet`	Тихий режим (только ошибки)

`-l, --log FILE`	Пользовательский лог-файл (по умолчанию: `unpaired.log`)

`-h, --help`	Показать справку

### Поддерживаемые форматы
- RAW форматы: NEF, CR2, ARW, DNG
- JPEG форматы: JPG, JPEG (регистронезависимо)

### Выходные файлы
`unpaired.log` - Лог операций с временными метками

`file_stats.log` - Статистика файлов до/после обработки

`unpaired/` - Директория для неспаренных RAW файлов

`paired/` - Директория для спаренных файлов (при использовании `--move-pairs`)

`backup/` - Директория для бэкапов (при использовании `--backup`)


### Сделано для:

-   Фотографов
    
-   Организации RAW+JPEG библиотек
    
-   Анализа "потерянных" RAW-файлов
    

Технические требования: Bash 4+, стандартные GNU-утилиты (`find`, `mv`).
